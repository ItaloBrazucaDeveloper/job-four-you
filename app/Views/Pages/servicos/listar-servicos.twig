{% extends "Layouts/main.layout.twig" %}

{% import "Macros/icones-categoria-servico.twig" as obterIconeDaCategoriaServico %}

{% block title %}Serviços | Job4You{% endblock %}

{% block main %}
	<section class="py-12">
		<div class="max-w-7xl mx-auto px-6 text-center">
			<h1 class="text-4xl font-bold text-gray-900 mb-4">
				{% if categoriaSelecionada %}
					{% for categoria in categorias %}
						{% if categoria.id == categoriaSelecionada %}
							<i class="bi {{ obterIconeDaCategoriaServico.render(categoria.nome) }} me-2"></i>
							Prestadores de {{ categoria.nome }}
						{% endif %}
					{% endfor %}
				{% else %}
					Encontre Serviços Informais em Diversas Categorias
				{% endif %}
			</h1>

			<span class="text-xl text-gray-600">
				{% if categoriaSelecionada %}
					Profissionais qualificados nesta categoria
				{% else %}
					Todas as categorias disponíveis estão listadas abaixo
				{% endif %}
			</span>
		</div>
	</section>

	{% if categoriaSelecionada %}
		{% include "Partials/servicos/_carrossel-prestador.twig" with {'servicos': servicos} %}
		{% include "Partials/servicos/_modal-prestador.twig" %}
	{% endif %}

	{% if categorias is not empty and categoriaSelecionada is empty %}
		{% include "Partials/servicos/_categorias.twig" %} 
	{% endif %}

	{% include "Partials/servicos/_prestadores.twig" %}
{% endblock %}

{% block scripts %}
	<script type="module" src="/assets/js/servicos/index.js"></script>
{% endblock %}