{% extends "Layouts/main.layout.twig" %}

{% block title %}Meu Perfil | Job4You{% endblock %}

{% block main %}
	<!-- CONTEÚDO PRINCIPAL DO PERFIL -->
	<main class="flex-grow">
		<div class="max-w-4xl mx-auto px-6 py-8">
			<div class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200">

				{% include "Partials/usuarios/perfil/_header.twig" %}
				{% include "Partials/usuarios/perfil/_nav.twig" %}

				<!-- SEÇÃO DE PERFIL -->
				<section id="perfil" class="p-6 md:p-8">
					<h2 class="text-xl font-bold text-gray-800 mb-6">
						Informações Pessoais
					</h2>

					{% set form_action = usuario.tipo == 'PRESTADOR' ? '/prestadores/atualizar-perfil' : '/usuarios/atualizar-perfil' %}

					<form action="{{ form_action }}" method="POST" class="space-y-6">
						<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
							{% include "Partials/usuarios/perfil/_form-fields.twig" %}
						</div>

						<div class="pt-4">
							<button type="submit" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-4 rounded-md font-medium transition-colors">
								<i class="bi bi-save mr-2"></i>
								Salvar Alterações
							</button>
						</div>
					</form>
				</section>

				{% if usuario.grupo == 'PRESTADOR' %}
					{% include "Partials/usuarios/perfil/_servico.twig" %}
				{% endif %}
			</div>
		</div>
	</main>
{% endblock %}

{% block scripts %}
	<script type="module" src="/assets/js/meu-perfil/index.js"></script>
{% endblock scripts %}