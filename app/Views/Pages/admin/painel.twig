{% extends "Layouts/admin-painel.layout.twig" %}

{% block title %}Painel Administrativo | Job4You{% endblock %}

{% block painel %}
  <main class="flex-1 ml-[250px]">
    <header class="bg-white shadow-sm py-8 px-4">
      <div class="container mx-auto text-center">
        <h2 class="text-3xl font-bold text-gray-800">Painel Administrativo</h2>
        <p class="text-gray-600 mt-2">
          Você está no centro de controle do Job4You. Aqui você gerencia usuários, prestadores e serviços.
        </p>
      </div>
    </header>
    
    {# Cards de estatísticas #}
    <div class="container mx-auto p-6">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-white rounded-lg shadow-md dashboard-card p-6 border-t-4 border-blue-400">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-blue-50 text-blue-500 mr-4">
              <i class="bi bi-people text-xl"></i>
            </div>
            <div>
              <h6 class="text-sm font-bold text-gray-600 uppercase">Usuários cadastrados</h6>
              <p class="text-3xl font-semibold mt-1">{{ total_usuarios|default(0) }}</p>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-md dashboard-card p-6 border-t-4 border-green-400">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-green-50 text-green-500 mr-4">
              <i class="bi bi-person-check text-xl"></i>
            </div>
            <div>
              <h6 class="text-sm font-bold text-gray-600 uppercase">Prestadores</h6>
              <p class="text-3xl font-semibold mt-1">{{ total_prestadores|default(0) }}</p>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-md dashboard-card p-6 border-t-4 border-purple-400">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-purple-50 text-purple-500 mr-4">
              <i class="bi bi-briefcase text-xl"></i>
            </div>
            <div>
              <h6 class="text-sm font-bold text-gray-600 uppercase">Serviços ativos</h6>
              <p class="text-3xl font-semibold mt-1">{{ total_servicos|default(0) }}</p>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-md dashboard-card p-6 border-t-4 border-yellow-400">
          <div class="flex items-center">
            <div class="p-3 rounded-full bg-yellow-50 text-yellow-500 mr-4">
              <i class="bi bi-clock-history text-xl"></i>
            </div>
            <div>
              <h6 class="text-sm font-bold text-gray-600 uppercase">Aprovações pendentes</h6>
              <p class="text-3xl font-semibold mt-1">{{ total_aprovacoes|default(0) }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container mx-auto px-6 pb-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
      {# Notificações Recentes #}
      <div class="bg-white rounded-lg shadow-md p-6 border-t-4 border-blue-400">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-bold text-gray-800">
            <i class="bi bi-bell-fill text-blue-500 mr-2"></i>
            Notificações Recentes
          </h3>
          <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">
            {{ notificacoes|length }} novas
          </span>
        </div>
        <ul class="space-y-3">
          {% for notificacao in notificacoes %}
          <li class="flex items-start">
            <div class="bg-blue-100 p-1 rounded-full mr-3 mt-1">
              <i class="bi bi-person-plus text-blue-600 text-sm"></i>
            </div>
            <div>
              <p class="text-sm">{{ notificacao.mensagem }}</p>
              <p class="text-xs text-gray-500">{{ notificacao.data }}</p>
            </div>
          </li>
          {% else %}
            <li class="text-gray-500 text-sm">Nenhuma notificação recente.</li>
          {% endfor %}
        </ul>
      </div>

      {# Últimos Serviços Cadastrados #}
      <div class="bg-white/80 rounded-lg shadow-md p-6 border-t-4 border-green-400">
        <h3 class="text-lg font-bold text-gray-800 mb-4">
          <i class="bi bi-list-ul text-green-500 mr-2"></i>
          Últimos Serviços Cadastrados
        </h3>
        <ul class="space-y-3">
          {% for servico in ultimos_servicos %}
          <li class="flex justify-between items-center border-b pb-2">
            <div>
              <p class="font-medium">{{ servico.titulo }}</p>
              <p class="text-sm text-gray-500">Prestador: {{ servico.prestador }}</p>
            </div>
            <span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full">{{ servico.status }}</span>
          </li>
          {% else %}
            <li class="text-gray-500 text-sm">Nenhum serviço cadastrado recentemente.</li>
          {% endfor %}
        </ul>
      </div>

      {# Aprovações de Prestadores #}
      <div class="bg-white rounded-lg shadow-md p-6 border-t-4 border-purple-400">
        <h3 class="text-lg font-bold text-gray-800 mb-4">
          <i class="bi bi-clock-history text-purple-500 mr-2"></i>
          Aprovações de Prestadores
        </h3>
        <ul class="space-y-3">
          {% for prestador in aprovacoes_prestadores %}
          <li class="flex justify-between items-center border-b pb-2">
            <div>
              <p class="font-medium">{{ prestador.nome }}</p>
              <p class="text-sm text-gray-500">{{ prestador.categoria }}</p>
            </div>
            <button class="bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1 rounded">
              Analisar
            </button>
          </li>
          {% else %}
            <li class="text-gray-500 text-sm">Nenhuma aprovação pendente.</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </main>
{% endblock %}